---
import BaseLayout from '../layouts/BaseLayout.astro';

const projects = [
  {
    icon: 'ğŸŒ¸',
    name: 'ä»£ç é™ˆè¯—',
    desc: 'åŸºäº Astro æ„å»ºçš„ä¸ªäººåšå®¢ï¼Œè¿½æ±‚æè‡´çš„é˜…è¯»ä½“éªŒä¸æ€§èƒ½ã€‚ç»ç’ƒæ‹Ÿæ€è®¾è®¡é£æ ¼ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼ã€‚',
    tags: ['Astro', 'TypeScript', 'CSS'],
    github: 'https://github.com/chenwei/codeverse',
    link: '/',
    status: 'active',
  },
  {
    icon: 'âš¡',
    name: 'å…¨æ ˆè„šæ‰‹æ¶',
    desc: 'æ•´åˆ React + Node.js + PostgreSQL çš„ç°ä»£å…¨æ ˆé¡¹ç›®æ¨¡æ¿ï¼Œå¼€ç®±å³ç”¨çš„å·¥ç¨‹åŒ–é…ç½®ã€‚',
    tags: ['React', 'Node.js', 'PostgreSQL', 'Docker'],
    github: 'https://github.com/chenwei',
    status: 'active',
  },
  {
    icon: 'ğŸ¤–',
    name: 'AI å†™ä½œåŠ©æ‰‹',
    desc: 'åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å†™ä½œè¾…åŠ©å·¥å…·ï¼Œæ”¯æŒç»­å†™ã€æ¶¦è‰²ã€æ‘˜è¦ç­‰åŠŸèƒ½ï¼Œæå‡å†™ä½œæ•ˆç‡ã€‚',
    tags: ['Python', 'FastAPI', 'OpenAI'],
    github: 'https://github.com/chenwei',
    status: 'wip',
  },
  {
    icon: 'ğŸ“Š',
    name: 'æ•°æ®å¯è§†åŒ–é¢æ¿',
    desc: 'ä½¿ç”¨ D3.js å’Œ React æ„å»ºçš„å¯äº¤äº’æ•°æ®å¯è§†åŒ–ç»„ä»¶åº“ï¼Œæ”¯æŒå¤šç§å›¾è¡¨ç±»å‹ã€‚',
    tags: ['React', 'D3.js', 'TypeScript'],
    github: 'https://github.com/chenwei',
    status: 'active',
  },
  {
    icon: 'ğŸ”§',
    name: 'CLI å·¥å…·é›†',
    desc: 'ä¸€å¥—æå‡æ—¥å¸¸å¼€å‘æ•ˆç‡çš„å‘½ä»¤è¡Œå·¥å…·ï¼ŒåŒ…å«ä»£ç ç”Ÿæˆã€é¡¹ç›®åˆå§‹åŒ–ç­‰å¸¸ç”¨åŠŸèƒ½ã€‚',
    tags: ['Go', 'CLI', 'Shell'],
    github: 'https://github.com/chenwei',
    status: 'active',
  },
  {
    icon: 'ğŸ¨',
    name: 'è®¾è®¡ç³»ç»Ÿ',
    desc: 'é¢å‘ React ç”Ÿæ€çš„ UI ç»„ä»¶åº“ï¼Œéµå¾ª Radix UI å¯è®¿é—®æ€§è§„èŒƒï¼Œæ”¯æŒä¸»é¢˜å®šåˆ¶ã€‚',
    tags: ['React', 'Storybook', 'Radix UI'],
    github: 'https://github.com/chenwei',
    status: 'wip',
  },
];

const statusLabel: Record<string, string> = {
  active: 'å·²ä¸Šçº¿',
  wip: 'å¼€å‘ä¸­',
  archived: 'å·²å½’æ¡£',
};

const statusColor: Record<string, string> = {
  active: 'status-active',
  wip: 'status-wip',
  archived: 'status-archived',
};
---

<BaseLayout title="é¡¹ç›®" description="é™ˆè¯—çš„å¼€æºé¡¹ç›®ä¸ä¸ªäººä½œå“">
  <div class="page-hero container animate-fade-up">
    <h1 class="page-hero-title"><span class="gradient-text">é¡¹ç›®</span></h1>
    <p class="page-hero-desc">å¼€æºé¡¹ç›®ã€ä¸ªäººå·¥å…·ä¸æœ‰è¶£çš„å®éªŒä½œå“</p>
  </div>

  <section class="section" style="padding-top: 1rem">
    <div class="container">
      <div class="project-grid animate-fade-up animate-delay-1">
        {projects.map((p) => (
          <div class="card project-card">
            <div class="project-card-top">
              <div class="project-card-header">
                <span class="project-icon">{p.icon}</span>
                <div class="project-links">
                  {p.github && (
                    <a href={p.github} class="project-link" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844a9.59 9.59 0 0 1 2.504.337c1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0 0 22 12.017C22 6.484 17.522 2 12 2z"/>
                      </svg>
                    </a>
                  )}
                  {p.link && (
                    <a href={p.link} class="project-link" target="_blank" rel="noopener" aria-label="é¢„è§ˆ">
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/>
                      </svg>
                    </a>
                  )}
                </div>
              </div>

              <div class="project-name-row">
                <h3 class="project-name">{p.name}</h3>
                <span class:list={['status-badge', statusColor[p.status]]}>
                  {statusLabel[p.status]}
                </span>
              </div>

              <p class="project-desc">{p.desc}</p>
            </div>

            <div class="project-tags">
              {p.tags.map(t => <span class="tag">{t}</span>)}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .project-card {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    gap: 1.25rem;
  }

  .project-card-top {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .project-name-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .status-badge {
    font-size: 0.72rem;
    font-weight: 600;
    padding: 0.15em 0.65em;
    border-radius: var(--radius-full);
    flex-shrink: 0;
  }

  .status-active {
    background: rgba(34, 197, 94, 0.12);
    color: #16a34a;
    border: 1px solid rgba(34, 197, 94, 0.2);
  }

  :global(html.dark) .status-active {
    color: #4ade80;
    background: rgba(74, 222, 128, 0.1);
  }

  .status-wip {
    background: rgba(234, 179, 8, 0.12);
    color: #ca8a04;
    border: 1px solid rgba(234, 179, 8, 0.2);
  }

  :global(html.dark) .status-wip {
    color: #facc15;
    background: rgba(250, 204, 21, 0.1);
  }

  .status-archived {
    background: rgba(148, 163, 184, 0.12);
    color: var(--text-muted);
    border: 1px solid var(--border);
  }
</style>
